<% layout('layout/boilerplate') %>
  <div class="px-4 md:px-6 lg:px-2">

    <%- include('../partials/searchBar') %>
      <div class="my-12">
        <h1 class="text-3xl font-bold text-gray-900">Search Results For</h1>
        <p class="text-xl text-gray-600 mt-2">"<span class="font-medium text-gray-800">
            <%= searchQuery || '' %>
          </span>"</p>
        <p class="text-lg text-gray-700 mt-2">
          <%= items.length %> result<%= items.length !==1 ? 's' : '' %> found
        </p>
      </div>
      <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
        <% for (let p of items) { %>
          <section class="rounded-lg w-full max-w-full bg-white">

            <div
              class="relative overflow-hidden shadow-lg rounded-lg group transition-all duration-500 hover:shadow-2xl card">
              <div onclick="window.location.href='/items/<%= p._id %>'" class="cursor-pointer flex flex-col h-full">
                <div class="aspect-ratio-container">
                  <img src="<%= p?.images[0]?.thumbnail2 %>"
                    class="object-cover object-center transition-transform duration-300 group-hover:scale-[1.05]">
                  <div
                    class="overlay absolute inset-0 opacity-80 group-hover:opacity-30 transition-opacity duration-300">
                  </div>

                </div>
                <div class="bg-white p-4 card-content flex-grow">
                  <div class="flex justify-between items-center">
                    <span class="text-gray-800 text-lg font-semibold">
                      <%= p?.price %>
                    </span>

                  </div>
                  <span class="text-gray-700 mb-1">
                    <%= p?.title %>
                  </span>
                  <p class="text-gray-600 mt-1 description">
                    <%if ( p.description) { %>
                      <%= p.description %>
                        <% } else {%>
                          No description available.
                          <% }%>
                  </p>
                </div>
              </div>
            </div>
          </section>
          <% } %>
      </div>
  </div>